(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,a){"use strict";var s=a(2),n=a(3),r=a(5),i=a(4),c=a(1),o=a(6),l=a(0),u=a.n(l),h=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).squareClick=a.props.click?a.squareClick.bind(Object(c.a)(a)):null,a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return u.a.createElement("button",{onClick:this.props.onClick,className:this.props.className,"data-x":this.props.x,"data-y":this.props.y})}}]),t}(l.Component);t.a=h},function(e,t,a){"use strict";var s=a(2),n=a(3),r=a(5),i=a(4),c=a(6),o=a(0),l=a.n(o),u=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).state={validate:!1},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{id:this.props.blockId,className:"input-block"},l.a.createElement("h3",null,this.props.title),l.a.createElement("div",null,l.a.createElement("input",{id:this.props.inputId,type:"text",placeholder:"Jhon"}),l.a.createElement("span",{className:"message"},this.props.message)))}}]),t}(l.a.Component);t.a=u},function(e,t,a){"use strict";(function(e){var s=a(2),n=a(3),r=a(5),i=a(4),c=a(1),o=a(6),l=a(0),u=a.n(l),h=a(8),p=function(t){function a(e){var t;return Object(s.a)(this,a),(t=Object(r.a)(this,Object(i.a)(a).call(this,e))).pcScore=0,t.playerScore=0,t.handleClick=t.handleClick.bind(Object(c.a)(t)),t}return Object(o.a)(a,t),Object(n.a)(a,[{key:"getField",value:function(){for(var e=document.querySelector(".field-pc").getElementsByClassName("square"),t=[],a=0,s=0;s<10;s++){t[s]=[];for(var n=0;n<10;n++)t[s][n]=e[a],a++}return t}},{key:"checkWinner",value:function(e,t){(e>=20||20==t)&&this.props.message("\u0412\u044b "+(20==e?"\u043f\u0440\u043e\u0438\u0433\u0440\u0430\u043b\u0438":"\u043f\u043e\u0431\u0435\u0434\u0438\u043b\u0438"),1)}},{key:"computerStep",value:function(){var t=this.getField(),a=m(9),s=m(9);switch(e.human[a][s]){case 0:e.human[a][s]=2,t[a][s].classList.add("square-miss"),this.props.message("\u041f\u0440\u043e\u043c\u0430\u0445"),this.props.whoStep(e.name||"\u042d\u0439, \u0412\u044b");break;case 1:e.human[a][s]=3,t[a][s].classList.add("square-strike"),this.props.message("\u041f\u043e\u043f\u0430\u0434\u0435\u043d\u0438\u0435"),this.pcScore++,this.computerStep(),this.checkWinner(this.pcScore,this.playerScore);break;case 2:case 3:this.computerStep();break;default:console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043c\u0430\u0441\u0441\u0438\u0432\u0430")}}},{key:"handleClick",value:function(t){var a=t.target.getAttribute("data-x"),s=t.target.getAttribute("data-y");switch(e.computer[a][s]){case 0:e.computer[a][s]=2,t.target.classList.add("square-miss"),this.props.message("\u041f\u0440\u043e\u043c\u0430\u0445"),this.props.whoStep(e.namePC||"\u041a\u043e\u043c\u043f"),this.computerStep();break;case 1:e.computer[a][s]=3,t.target.classList.add("square-strike"),this.props.message("\u041f\u043e\u043f\u0430\u0434\u0435\u043d\u0438\u0435"),this.playerScore++,this.checkWinner(this.pcScore,this.playerScore);break;case 2:case 3:break;default:console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043c\u0430\u0441\u0441\u0438\u0432\u0430")}}},{key:"mapForAttack",value:function(e,t){e=[];for(var a=0;a<10;a++){e[a]=[];for(var s=0;s<10;s++)e[a][s]=u.a.createElement(h.a,{className:"square",onClick:this.handleClick,key:a+""+s,x:a,y:s})}return e}},{key:"renderMapFromArray",value:function(e,t){e=[];for(var a=0;a<10;a++){e[a]=[];for(var s=0;s<10;s++)1==t[a][s]?e[a][s]=u.a.createElement(h.a,{className:"square square-with-ship",click:!1,key:a+""+s,x:a,y:s}):3==t[a][s]?e[a][s]=u.a.createElement(h.a,{className:"square square-with-ship square-strike",click:!1,key:a+""+s,x:a,y:s}):e[a][s]=u.a.createElement(h.a,{className:"square",click:!1,key:a+""+s,x:a,y:s})}return e}},{key:"render",value:function(){return u.a.createElement("div",{className:"map"},u.a.createElement("h3",null,this.props.title||"Player"),u.a.createElement("div",{className:"field "+(this.props.computer?"field-pc":"field-hum")},"show"===this.props.status?this.renderMapFromArray(this.temp,e.human):null,"attack"===this.props.status?this.mapForAttack(this.temp,e.computer):null))}}]),a}(l.Component);function m(e){return Math.floor(Math.random()*(e+1))}t.a=p}).call(this,a(7))},,,function(e,t,a){"use strict";(function(e){var s=a(2),n=a(3),r=a(5),i=a(4),c=a(1),o=a(6),l=a(0),u=a.n(l),h=a(9),p=function(t){function a(e){var t;return Object(s.a)(this,a),(t=Object(r.a)(this,Object(i.a)(a).call(this,e))).message="",t.handleClick=t.handleClick.bind(Object(c.a)(t)),t.inputValidate=t.inputValidate.bind(Object(c.a)(t)),t}return Object(o.a)(a,t),Object(n.a)(a,[{key:"handleClick",value:function(t){var a=this,s=document.getElementById("input-name"),n=document.getElementById("input-next"),r=document.getElementById("input-pc"),i=document.getElementById("input-to-game");n.focus(),s.classList.add("input-block--show"),t.target.classList.add("hidden"),n.addEventListener("keyup",function(t){t.preventDefault(),13===t.keyCode&&(e.name=t.target.value,s.classList.add("hidden"),r.classList.add("input-block--show"),i.focus())}),i.addEventListener("keyup",function(t){t.preventDefault(),13===t.keyCode&&(e.namePC=t.target.value,r.classList.add("hidden"),a.props.onClick())})}},{key:"inputValidate",value:function(e){return!(""===e||!isNaN(e))}},{key:"render",value:function(){return u.a.createElement("div",{className:"wrapper"},u.a.createElement("h1",{className:"headline headline-prev"},"Sea Battle"),u.a.createElement("button",{className:"btn btn-start",onClick:this.handleClick},"To battle"),u.a.createElement(h.a,{title:"Enter your name",blockId:"input-name",inputId:"input-next",message:this.message}),u.a.createElement(h.a,{title:"Enter PC name",blockId:"input-pc",inputId:"input-to-game"}))}}]),a}(l.Component);t.a=p}).call(this,a(7))},function(e,t,a){"use strict";(function(e){var s=a(2),n=a(3),r=a(5),i=a(4),c=a(1),o=a(6),l=a(0),u=a.n(l),h=a(10),p=function(t){function a(e){var t;return Object(s.a)(this,a),(t=Object(r.a)(this,Object(i.a)(a).call(this,e))).state={message:"",step:"\u041f\u0440\u0438\u0432\u0435\u0442"},t.changeMessgae=t.changeMessgae.bind(Object(c.a)(t)),t.whoStep=t.whoStep.bind(Object(c.a)(t)),t}return Object(o.a)(a,t),Object(n.a)(a,[{key:"changeMessgae",value:function(e,t){this.setState({message:e}),t&&document.querySelector(".modal").classList.add("modal--show")}},{key:"whoStep",value:function(e){this.setState({step:e})}},{key:"refreshPage",value:function(){window.location.reload()}},{key:"render",value:function(){return u.a.createElement("div",{className:"wrapper"},u.a.createElement("h1",{className:"headline headline-another"},"Battle"),u.a.createElement("div",{className:"row",style:{marginBottom:"50px",width:"900px",justifyContent:"space-between"}},u.a.createElement(h.a,{title:e.namePC,status:"show",click:!1,computer:!0}),u.a.createElement("div",{className:"info"},u.a.createElement("h3",null,this.state.message),u.a.createElement("h4",null,this.state.step,", \u0432\u0430\u0448 \u0445\u043e\u0434!")),u.a.createElement(h.a,{title:e.name,status:"attack",message:this.changeMessgae,whoStep:this.whoStep})),u.a.createElement("div",{className:"modal "},u.a.createElement("h2",{className:"modal__header"},this.state.message),u.a.createElement("button",{className:"btn btn-start",onClick:this.refreshPage},"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e")))}}]),a}(u.a.Component);t.a=p}).call(this,a(7))},function(e,t,a){e.exports=a(23)},,,,,function(e,t,a){(function(e){function t(){this.shipsData=["",[4,"fourdeck"],[3,"tripledeck"],[2,"doubledeck"],[1,"singledeck"]],this.squadron=[]}function a(e,t){this.player=e,this.decks=t.decks,this.x0=t.x,this.y0=t.y,this.kx=t.kx,this.ky=t.ky,this.matrix=[]}e.human=r(e.human),e.computer=r(e.computer),t.prototype.randomLocationShips=function(){this.matrix=r();for(var e=1,t=this.shipsData.length;e<t;e++)for(var s=this.shipsData[e][0],n=0;n<e;n++){var i=this.getCoordinatesDecks(s);i.decks=s,i.shipname=this.shipsData[e][1]+String(n+1),new a(this,i).createShip()}},t.prototype.getCoordinatesDecks=function(e){var t,a,s=i(1),n=0==s?1:0;return 0==s?(t=i(9),a=i(10-e)):(t=i(10-e),a=i(9)),this.checkLocationShip(t,a,s,n,e)?{x:t,y:a,kx:s,ky:n}:this.getCoordinatesDecks(e)},t.prototype.checkLocationShip=function(e,t,a,s,n){var r,i,c;if(e+a*n==10&&1==a?r=e+a*n:e+a*n<10&&1==a?r=e+a*n+1:9==e&&0==a?r=e+1:e<9&&0==a&&(r=e+2),i=0==t?t:t-1,t+s*n==10&&1==s?c=t+s*n:t+s*n<10&&1==s?c=t+s*n+1:9==t&&0==s?c=t+1:t<9&&0==s&&(c=t+2),void 0===r||void 0===c)return!1;for(var o=0==e?e:e-1;o<r;o++)for(var l=i;l<c;l++)if(1==this.matrix[o][l])return!1;return!0},a.prototype.createShip=function(){for(var e=0,t=this.x0,a=this.y0,s=this.kx,n=this.ky,r=this.decks,i=this.player;e<r;)i.matrix[t+e*s][a+e*n]=1,this.matrix.push([t+e*s,a+e*n]),e++};var s=new t,n=new t;function r(e){e=[];for(var t=0;t<10;t++)e[t]=Array(10).fill(0);return e}function i(e){return Math.floor(Math.random()*(e+1))}n.randomLocationShips(),s.randomLocationShips(),e.human=s.matrix,e.computer=n.matrix}).call(this,a(7))},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(12),i=a.n(r),c=a(2),o=a(3),l=a(5),u=a(4),h=a(1),p=a(6),m=a(13),d=a(14),k=(a(20),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).startGame=a.startGame.bind(Object(h.a)(a)),a.state={gameStep:"start"},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"startGame",value:function(){this.setState({gameStep:"battle"})}},{key:"render",value:function(){return"start"===this.state.gameStep?n.a.createElement(m.a,{onClick:this.startGame}):"battle"===this.state.gameStep?n.a.createElement(d.a,null):void 0}}]),t}(s.Component));a(21),a(22);i.a.render(n.a.createElement(k,null),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.b950ba43.chunk.js.map