{"version":3,"sources":["components/Square.js","components/Input.js","components/Map.js","components/Start.js","components/Battle.js","components/global.js","components/App.js","index.js"],"names":["Square","props","_this","Object","C_Users_Denis_Mitryakov_Documents_sea_battle_test_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_Users_Denis_Mitryakov_Documents_sea_battle_test_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Denis_Mitryakov_Documents_sea_battle_test_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","squareClick","click","bind","C_Users_Denis_Mitryakov_Documents_sea_battle_test_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","onClick","className","data-x","x","data-y","y","Component","Input","state","validate","react__WEBPACK_IMPORTED_MODULE_5___default","id","blockId","title","inputId","type","placeholder","message","React","Map","pcScore","playerScore","handleClick","field","document","querySelector","getElementsByClassName","arr","k","i","j","pc","player","getField","getRandom","global","human","classList","add","whoStep","name","computerStep","checkWinner","console","log","e","target","getAttribute","computer","namePC","memory","_Square__WEBPACK_IMPORTED_MODULE_7__","key","status","renderMapFromArray","temp","mapForAttack","max","Math","floor","random","Start","inputValidate","_this2","inputBlock","getElementById","inputNext","inputPC","inputToGame","focus","addEventListener","preventDefault","keyCode","value","str","isNaN","_Input__WEBPACK_IMPORTED_MODULE_7__","Battle","step","changeMessgae","gameFinish","setState","window","location","reload","style","marginBottom","width","justifyContent","_Map__WEBPACK_IMPORTED_MODULE_7__","refreshPage","Field","shipsData","squadron","Ships","fc","decks","x0","y0","kx","ky","matrix","initMatrix","prototype","randomLocationShips","length","getCoordinatesDecks","shipname","String","createShip","checkLocationShip","toX","fromY","toY","undefined","push","Array","fill","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","startGame","assertThisInitialized","gameStep","react_default","ReactDOM","render","components_App"],"mappings":"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","file":"static/js/main.b950ba43.chunk.js","sourcesContent":["import React, {Component} from 'react'\r\n\r\nclass Square extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.squareClick = this.props.click ? this.squareClick.bind(this) : null;\r\n  }\r\n \r\n  render() {\r\n\r\n    return (\r\n      <button \r\n            onClick={this.props.onClick} \r\n            className={this.props.className} \r\n            data-x={this.props.x} \r\n            data-y={this.props.y}\r\n      ></button>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Square; \r\n","import React from 'react'\r\n\r\n\r\nclass Input extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      validate: false,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id={this.props.blockId} className=\"input-block\">\r\n        <h3>{this.props.title}</h3>\r\n        <div>\r\n          <input id={this.props.inputId} type=\"text\" placeholder=\"Jhon\"></input>\r\n          <span className='message'>{this.props.message}</span>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Input","import React, { Component } from 'react';\r\nimport Square from './Square'\r\n\r\nclass Map extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    this.pcScore = 0;\r\n    this.playerScore = 0;\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n \r\n  getField() {\r\n    let field = document.querySelector('.field-pc').getElementsByClassName('square'),\r\n        arr = [],\r\n        k = 0;\r\n\r\n    for( let i = 0; i < 10; i++) {\r\n      arr[i] = [];\r\n      for( let j = 0; j < 10; j++) {\r\n        arr[i][j] = field[k];\r\n        k++;\r\n      }\r\n    }\r\n\r\n    return arr;\r\n  }\r\n\r\n  checkWinner(pc, player) {  \r\n    if(pc >= 20 || player == 20) {\r\n      this.props.message('Вы ' + ((pc == 20) ? 'проиграли' : 'победили'), 1);\r\n    }\r\n  }\r\n\r\n  computerStep() {\r\n    let field = this.getField(),\r\n      x = getRandom(9),\r\n      y = getRandom(9);  \r\n\r\n    switch(global.human[x][y]) {\r\n        case 0:\r\n          global.human[x][y] = 2;\r\n          field[x][y].classList.add('square-miss');\r\n          this.props.message('Промах');\r\n          this.props.whoStep(global.name || 'Эй, Вы')\r\n          break;\r\n        case 1:\r\n          global.human[x][y] = 3;\r\n          field[x][y].classList.add('square-strike');\r\n          this.props.message('Попадение');\r\n          this.pcScore++;\r\n          this.computerStep();\r\n          this.checkWinner(this.pcScore, this.playerScore);\r\n          break;\r\n        case 2:\r\n          this.computerStep(); \r\n          break;\r\n        case 3:\r\n          this.computerStep(); \r\n          break;\r\n\r\n        default: \r\n          console.log('Ошибка при заполнение массива');\r\n      }\r\n  }\r\n\r\n  handleClick(e) {\r\n    let x = e.target.getAttribute('data-x'),\r\n        y = e.target.getAttribute('data-y');\r\n\r\n    switch(global.computer[x][y]) {\r\n      case 0:\r\n        global.computer[x][y] = 2;\r\n        e.target.classList.add('square-miss');\r\n        this.props.message('Промах');\r\n        this.props.whoStep(global.namePC || 'Комп');\r\n        this.computerStep();\r\n        break;\r\n      case 1:\r\n        global.computer[x][y] = 3;\r\n        e.target.classList.add('square-strike');\r\n        this.props.message('Попадение');\r\n        this.playerScore++;\r\n        this.checkWinner(this.pcScore, this.playerScore);\r\n        break;\r\n      case 2: \r\n        break;\r\n      case 3: \r\n        break;\r\n      default: \r\n        console.log('Ошибка при заполнение массива');\r\n    }\r\n  }\r\n\r\n  mapForAttack(arr, memory) {\r\n    arr = [];\r\n    for(let i = 0; i < 10; i++) {\r\n      arr[i] = [];\r\n      for(let j = 0; j < 10; j++) {\r\n        arr[i][j] = \r\n        <Square \r\n          className=\"square\" \r\n          onClick={this.handleClick} \r\n          key={i + '' + j} \r\n          x={i} y={j}   \r\n        />;\r\n      }\r\n    }  \r\n    return arr;\r\n  }\r\n\r\n  renderMapFromArray(arr, memory) {\r\n    arr = []\r\n    for(let i = 0; i < 10; i++) {\r\n      arr[i] = []\r\n      for(let j = 0; j < 10; j++) {\r\n        if(memory[i][j] == 1) {\r\n          arr[i][j] = \r\n          <Square \r\n            className=\"square square-with-ship\" \r\n            click={false} \r\n            key={i + '' + j}\r\n            x={i} y={j}  \r\n          />\r\n        } else if(memory[i][j] == 3) {\r\n          arr[i][j] = \r\n          <Square \r\n            className=\"square square-with-ship square-strike\" \r\n            click={false} \r\n            key={i + '' + j}\r\n            x={i} y={j}  \r\n          />\r\n        } else {\r\n          arr[i][j] = \r\n            <Square\r\n              className=\"square\"\r\n              click={false}\r\n              key={i + '' + j}\r\n              x={i} y={j}  \r\n            />\r\n        }\r\n      }\r\n    }\r\n    return arr;\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className='map'>\r\n        <h3>{this.props.title || 'Player'}</h3>\r\n        <div className={'field ' + (this.props.computer ? 'field-pc' : 'field-hum')}>\r\n          {this.props.status === 'show' ? this.renderMapFromArray(this.temp, global.human) : null}\r\n          {this.props.status === 'attack' ? this.mapForAttack(this.temp, global.computer) : null}\r\n        </div> \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction getRandom(max) {\r\n  return Math.floor(Math.random() * (max + 1));\r\n}\r\n\r\nexport default Map;","import React, {Component} from 'react';\r\nimport Input from './Input';\r\n\r\n\r\nclass Start extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.message = '';\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.inputValidate = this.inputValidate.bind(this);\r\n  }\r\n\r\n  handleClick(e) {\r\n    let inputBlock = document.getElementById('input-name');\r\n    let inputNext = document.getElementById('input-next');\r\n    let inputPC = document.getElementById('input-pc');\r\n    let inputToGame = document.getElementById('input-to-game');\r\n \r\n    inputNext.focus();\r\n    inputBlock.classList.add('input-block--show');\r\n    e.target.classList.add('hidden');\r\n    inputNext.addEventListener(\"keyup\", (e) => {\r\n      e.preventDefault();\r\n      if(e.keyCode === 13) {\r\n        global.name = e.target.value;\r\n        inputBlock.classList.add('hidden');\r\n        inputPC.classList.add('input-block--show');\r\n        inputToGame.focus();\r\n      }\r\n    });\r\n    inputToGame.addEventListener(\"keyup\", (e) => {\r\n      e.preventDefault()\r\n      if(e.keyCode === 13) {\r\n        global.namePC = e.target.value;\r\n        inputPC.classList.add('hidden');\r\n        this.props.onClick();\r\n      }\r\n    });\r\n  }\r\n\r\n  inputValidate(str) {\r\n    if(str === '' || !isNaN(str)) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <h1 className=\"headline headline-prev\">Sea Battle</h1>\r\n        <button className=\"btn btn-start\" onClick={this.handleClick}>To battle</button>\r\n        <Input \r\n          title=\"Enter your name\"\r\n          blockId=\"input-name\"\r\n          inputId=\"input-next\"\r\n          message={this.message}\r\n        />\r\n        <Input \r\n          title=\"Enter PC name\"\r\n          blockId=\"input-pc\"\r\n          inputId=\"input-to-game\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Start;\r\n","import React from 'react'\r\nimport Map from './Map'\r\n\r\nclass Battle extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      message: '',\r\n      step: 'Привет'\r\n    }\r\n    this.changeMessgae = this.changeMessgae.bind(this);\r\n    this.whoStep = this.whoStep.bind(this);\r\n  }\r\n\r\n  changeMessgae(str, gameFinish) {\r\n    this.setState({\r\n      message: str,\r\n    });\r\n\r\n    if(gameFinish) {\r\n      document.querySelector('.modal').classList.add('modal--show');\r\n    } \r\n  }\r\n\r\n  whoStep(str) {\r\n    this.setState({\r\n      step: str,\r\n    });\r\n  }\r\n\r\n  refreshPage() {\r\n    window.location.reload();\r\n  }\r\n\r\n  render() {\r\n    return ( \r\n      <div className=\"wrapper\">\r\n        <h1 className=\"headline headline-another\">Battle</h1>\r\n        <div className=\"row\" style={{marginBottom: 50 + 'px', width: 900 + 'px', justifyContent: 'space-between'}}>\r\n          <Map\r\n            title= {global.namePC}  \r\n            status='show'\r\n            click= {false}\r\n            computer={true} \r\n          />\r\n          <div className=\"info\">\r\n            <h3>{this.state.message}</h3>\r\n            <h4>{this.state.step}, ваш ход!</h4>\r\n          </div>\r\n          <Map \r\n            title= {global.name}  \r\n            status='attack'\r\n            message={this.changeMessgae}\r\n            whoStep={this.whoStep}\r\n          />\r\n        </div>\r\n        <div className='modal '>\r\n          <h2 className='modal__header'>{this.state.message}</h2>\r\n          <button className=\"btn btn-start\" onClick={ this.refreshPage }>Начать заново</button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Battle","\r\nglobal.human = initMatrix(global.human);\r\nglobal.computer = initMatrix(global.computer);\r\n\r\n\r\nfunction Field() {\r\n  this.shipsData\t= [\r\n    '',\r\n    [4, 'fourdeck'],\r\n    [3, 'tripledeck'],\r\n    [2, 'doubledeck'],\r\n    [1, 'singledeck']\r\n  ];\r\n\r\n  this.squadron\t= [];\r\n}\r\n\r\nField.prototype.randomLocationShips = function() {\r\n  this.matrix = initMatrix();\r\n\r\n  for (var i = 1, length = this.shipsData.length; i < length; i++) {\r\n    var decks = this.shipsData[i][0];\r\n    for (var j = 0; j < i; j++) {\r\n\r\n      var fc = this.getCoordinatesDecks(decks);\r\n      fc.decks \t= decks;\r\n      fc.shipname\t= this.shipsData[i][1] + String(j + 1);\r\n\r\n      var ship = new Ships(this, fc);\r\n        ship.createShip();\r\n    }\r\n  }\r\n\r\n}\r\n\r\nField.prototype.getCoordinatesDecks = function(decks) {\r\n  var kx = getRandom(1),\r\n    ky = (kx == 0) ? 1 : 0,\r\n    x, y;\r\n  \r\n  if (kx == 0) {\r\n    x = getRandom(9);\r\n    y = getRandom(10 - decks);\r\n  } else {\r\n    x = getRandom(10 - decks);\r\n    y = getRandom(9);\r\n  }\r\n  \r\n  var result = this.checkLocationShip(x, y, kx, ky, decks);\r\n  if (!result) return this.getCoordinatesDecks(decks);\r\n\r\n  var obj = {\r\n    x: x,\r\n    y: y,\r\n    kx: kx,\r\n    ky: ky\r\n  };\r\n  return obj;\r\n}\r\n\r\nField.prototype.checkLocationShip = function(x, y, kx, ky, decks) {\r\n  var fromX, toX, fromY, toY;\r\n\r\n  fromX = (x == 0) ? x : x - 1;\r\n\r\n  if (x + kx * decks == 10 && kx == 1) toX = x + kx * decks;\r\n  else if (x + kx * decks < 10 && kx == 1) toX = x + kx * decks + 1;\r\n  else if (x == 9 && kx == 0) toX = x + 1;\r\n  else if (x < 9 && kx == 0) toX = x + 2;\r\n\r\n  fromY = (y == 0) ? y : y - 1;\r\n  if (y + ky * decks == 10 && ky == 1) toY = y + ky * decks;\r\n  else if (y + ky * decks < 10 && ky == 1) toY = y + ky * decks + 1;\r\n  else if (y == 9 && ky == 0) toY = y + 1;\r\n  else if (y < 9 && ky == 0) toY = y + 2;\r\n\r\n  if (toX === undefined || toY === undefined) return false;\r\n\r\n  for (var i = fromX; i < toX; i++) {\r\n    for (var j = fromY; j < toY; j++) {\r\n      if (this.matrix[i][j] == 1) return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction Ships(player, fc) {\r\n  this.player \t= player;\r\n  this.decks\t\t= fc.decks;\r\n  this.x0\t\t\t= fc.x;\r\n  this.y0\t\t\t= fc.y;\r\n  this.kx\t\t\t= fc.kx;\r\n  this.ky \t\t= fc.ky;\r\n  this.matrix\t\t= [];\r\n}\r\n\r\nShips.prototype.createShip = function() {\r\n  var k\t\t= 0,\r\n    x\t\t= this.x0,\r\n    y\t\t= this.y0,\r\n    kx\t\t= this.kx,\r\n    ky\t\t= this.ky,\r\n    decks\t= this.decks,\r\n    player\t= this.player\r\n\r\n  while (k < decks) {\r\n    player.matrix[x + k * kx][y + k * ky] = 1;\r\n    this.matrix.push([x + k * kx, y + k * ky]);\r\n    k++;\r\n  }\r\n  \r\n}\r\n\r\nvar human = new Field();\r\nvar computer = new Field()\r\n\r\ncomputer.randomLocationShips();\r\nhuman.randomLocationShips();\r\n\r\nglobal.human = human.matrix; \r\nglobal.computer = computer.matrix;\r\n\r\nfunction initMatrix(arr) {\r\n  arr = [];\r\n  for( let i = 0; i < 10; i++) {\r\n    arr[i] = Array(10).fill(0); \r\n  }\r\n\r\n  return arr;\r\n};\r\n\r\nfunction getRandom(max) {\r\n  return Math.floor(Math.random() * (max + 1));\r\n}\r\n\r\n","import React, {Component} from 'react';\r\nimport Start from './Start';\r\nimport Battle from './Battle'\r\nimport './global';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.startGame = this.startGame.bind(this);\r\n    this.state = {\r\n      gameStep: 'start',\r\n    }\r\n  }\r\n\r\n  startGame() {\r\n    this.setState({gameStep: 'battle'})\r\n  }\r\n\r\n  render() {\r\n    if(this.state.gameStep === 'start') {\r\n        return <Start onClick={this.startGame}/>\r\n    } else if(this.state.gameStep === 'battle') {\r\n      return <Battle/>\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport './css/index.css';\r\nimport 'normalize.css';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}